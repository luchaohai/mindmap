# JavaScript 引擎

> 别名: JavaScript 虚拟机

## 概述

JavaScript 引擎是执行 JavaScript 代码的核心组件，它将 JavaScript 代码转换为机器码并执行。

## 结构

JavaScript 引擎通常由以下几个主要部分组成：
1. **解析器（Parser）**：
   - 将 JavaScript 代码转换为抽象语法树（AST）。
   - 负责语法分析和错误检查。
2. **编译器（Compiler）**：
    - 将 AST 转换为字节码或机器码。
    - 进行代码优化以提高执行效率。
3. **执行引擎（Execution Engine）**：
    - 执行编译后的代码。
    - 处理函数调用、变量访问等操作。
4. **垃圾回收器（Garbage Collector）**：
    - 自动管理内存，回收不再使用的对象。
    - 确保内存的有效利用和防止内存泄漏。
5. **API 接口（API Interface）**：
    - 提供与宿主环境（如浏览器或 Node.js）的交互接口。
    - 允许 JavaScript 代码访问 DOM、网络请求等功能。
6. **调试器（Debugger）**：
    - 提供调试功能，允许开发者设置断点、查看变量等。
    - 帮助开发者排查代码中的错误和性能问题。
7. **事件循环（Event Loop）**：
    - 处理异步操作和事件。
    - 确保 JavaScript 代码的非阻塞执行。
8. **模块加载器（Module Loader）**：
    - 负责加载和解析模块化的 JavaScript 代码。
    - 支持 ES6 模块和 CommonJS 模块等不同模块系统。
9. **优化器（Optimizer）**：
    - 对代码进行进一步的优化，以提高执行效率。
    - 包括内联缓存、逃逸分析等技术。
10. **JIT 编译器（Just-In-Time Compiler）**：
    - 在运行时将热点代码编译为机器码。
    - 提高代码执行速度，减少解释执行的开销。
11. **内存管理器（Memory Manager）**： 
    - 管理 JavaScript 对象的内存分配和释放。
    - 确保内存的高效使用和防止内存碎片化。
12. **安全沙箱（Security Sandbox）**：
    - 提供一个隔离的执行环境，防止恶意代码访问宿主系统资源。
    - 确保 JavaScript 代码的安全性和稳定性。


## 同类

2. Hermes 引擎：
   - Facebook 开发的 JavaScript 引擎，专为移动设备优化。
   - 主要用于 React Native 应用。
3. Duktape：
    - 一个轻量级的 JavaScript 引擎，适用于嵌入式系统。
    - 支持 ECMAScript 5.1 规范。
4. GraalVM：
    - 一个多语言虚拟机，支持 JavaScript 和其他语言。
    - 提供高性能的 JavaScript 执行环境。
5. Nashorn：
    - Oracle 开发的 JavaScript 引擎，集成在 Java 8 中。
    - 支持 ECMAScript 5.1 规范。
6. QuickJS：
    - 一个小型的 JavaScript 引擎，支持 ECMAScript 2019。
    - 适用于嵌入式系统和小型应用。
7. V8：
    - Google 开发的高性能 JavaScript 引擎，主要用于 Chrome 浏览器和 Node.js。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 采用即时编译（JIT）技术，提供快速的代码执行。
8. SpiderMonkey：
    - Mozilla 开发的 JavaScript 引擎，主要用于 Firefox 浏览器。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 提供多种优化技术以提高性能。
9. Chakra：
    - Microsoft 开发的 JavaScript 引擎，主要用于 Internet Explorer 和 Edge 浏览器。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 提供高性能的代码执行和优化。
10. Jerryscript：
    - 一个轻量级的 JavaScript 引擎，专为物联网设备设计。
    - 支持 ECMAScript 5.1 规范，适用于资源受限的环境。
11. Rhino：
    - Mozilla 开发的 JavaScript 引擎，主要用于 Java 环境。
    - 支持 ECMAScript 5.1 规范，适用于服务器端 JavaScript 执行。
12. Espruino：
    - 一个小型的 JavaScript 引擎，专为嵌入式设备设计。
    - 支持 ECMAScript 5.1 规范，适用于低功耗设备。
13. Bun：
    - 一个新兴的 JavaScript 引擎，专为现代 Web 开发设计。
    - 提供高性能的代码执行和快速的模块加载。
    - 支持 ECMAScript 2020 及更高版本。
14. SquirrelFish：
    - Apple 开发的 JavaScript 引擎，主要用于早期版本的 Safari 浏览器。
    - 支持 ECMAScript 3 和部分 ECMAScript 5.1 规范。
    - 后来被 JavaScriptCore 替代。
15. V8Lite：
    - 一个轻量级的 V8 引擎版本，专为嵌入式系统设计。
    - 提供基本的 JavaScript 执行功能，适用于资源受限的环境。
16. JXcore：
    - 一个基于 V8 的 JavaScript 引擎，主要用于移动设备和嵌入式系统。
    - 提供多线程支持和跨平台兼容性。
    - 后来被 Node.js 社区吸收并整合到 Node.js 中。
17. Moddable SDK：
    - 一个开源的 JavaScript 引擎，专为物联网设备设计。
    - 支持 ECMAScript 5.1 规范，提供高性能的代码执行。
    - 包含一个完整的开发工具链，适用于嵌入式系统开发。
18. V8X：
    - 一个基于 V8 的 JavaScript 引擎，专为高性能计算设计。
    - 提供多线程支持和优化的内存管理。
    - 适用于需要高性能 JavaScript 执行的应用场景。
19. ChakraCore：
    - Chakra 引擎的开源版本，主要用于 Node.js 和其他 JavaScript 应用。
    - 提供高性能的代码执行和优化。
    - 支持 ECMAScript 2015（ES6）及更高版本。
20. JSC (JavaScriptCore)：
    - Apple 开发的 JavaScript 引擎，主要用于 Safari 浏览器和 iOS 应用。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 提供高性能的代码执行和优化。
21. V8Plus：
    - V8 引擎的增强版本，提供额外的性能优化和功能扩展。
    - 主要用于需要高性能 JavaScript 执行的应用场景。
    - 支持 ECMAScript 2020 及更高版本。
22. Esprima：
    - 一个 JavaScript 解析器，主要用于代码分析和静态检查。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 提供高性能的代码解析和分析功能。
23. Babel：
    - 一个 JavaScript 编译器，主要用于将现代 JavaScript 代码转换为兼容旧版本的代码。
    - 支持 ECMAScript 2015（ES6）及更高版本。
    - 提供丰富的插件和预设，适用于各种开发场景。
## 参考
1. [JavaScript 引擎](https://en.wikipedia.org/wiki/JavaScript_engine)
2. [JavaScript 引擎列表](https://en.wikipedia.org/wiki/List_of_JavaScript_engines)
3. [JavaScript 引擎比较](https://en.wikipedia.org/wiki/Comparison_of_JavaScript_engines)
